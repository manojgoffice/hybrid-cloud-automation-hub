---
- name: Hybrid Cloud Compliance & Health Audit
  hosts: all
  become: yes
  tasks:
    - name: ğŸ›¡ï¸ Linux | Check SSH Root Login Status
      command: "grep '^PermitRootLogin' /etc/ssh/sshd_config"
      register: ssh_status
      when: ansible_os_family != "Windows"

    - name: ğŸ›¡ï¸ Windows | Check Firewall Status
      ansible.windows.win_powershell:
        script: "Get-NetFirewallProfile | Select-Object Name, Enabled"
      when: ansible_os_family == "Windows"

    - name: ğŸ“Š Performance | Report Uptime & Disk Usage
      debug:
        msg: "Host {{ inventory_hostname }} has been up for {{ ansible_uptime_seconds }}s with {{ ansible_mounts[0].size_available // 1024**3 }}GB available."
