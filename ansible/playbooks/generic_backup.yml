---
- name: ğŸ’¾ Standardized Backup Workflow
  hosts: db_servers
  tasks:
    - name: ğŸ“¦ Create Compressed Backup
      archive:
        path: "{{ backup_source_dir }}"
        dest: "/tmp/backup_{{ ansible_date_time.date }}.tar.gz"
        format: gz

    - name: ğŸ“¤ Transfer to Secure Storage (Generic)
      fetch:
        src: "/tmp/backup_{{ ansible_date_time.date }}.tar.gz"
        dest: "backups/{{ inventory_hostname }}/"
        flat: yes
